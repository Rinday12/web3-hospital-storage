{"ast":null,"code":"import axios from 'axios';\nexport const uploadFileToIPFS = async file => {\n  const url = `https://api.pinata.cloud/pinning/pinFileToIPFS`; // Pastikan ini tidak berubah\n\n  // Membuat data form\n  let data = new FormData();\n  data.append('file', file);\n  const metadata = JSON.stringify({\n    name: file.name\n  });\n  data.append('pinataMetadata', metadata);\n  const pinataOptions = JSON.stringify({\n    cidVersion: 0\n  });\n  data.append('pinataOptions', pinataOptions);\n  try {\n    const res = await axios.post(url, data, {\n      maxBodyLength: 'Infinity',\n      headers: {\n        'Content-Type': `multipart/form-data; boundary=${data._boundary}`,\n        'pinata_api_key': process.env.REACT_APP_PINATA_API_KEY,\n        'pinata_secret_api_key': process.env.REACT_APP_PINATA_API_SECRET\n      }\n    });\n    console.log(\"File uploaded, CID:\", res.data.IpfsHash);\n    return {\n      success: true,\n      cid: res.data.IpfsHash\n    };\n  } catch (error) {\n    console.error(\"Error uploading file to IPFS:\", error);\n    return {\n      success: false,\n      message: error.message\n    };\n  }\n};","map":{"version":3,"names":["axios","uploadFileToIPFS","file","url","data","FormData","append","metadata","JSON","stringify","name","pinataOptions","cidVersion","res","post","maxBodyLength","headers","_boundary","process","env","REACT_APP_PINATA_API_KEY","REACT_APP_PINATA_API_SECRET","console","log","IpfsHash","success","cid","error","message"],"sources":["C:/Users/Rinday/web3-hospital-storage/frontend/src/utils/pinata.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport const uploadFileToIPFS = async (file) => {\r\n    const url = `https://api.pinata.cloud/pinning/pinFileToIPFS`; // Pastikan ini tidak berubah\r\n\r\n    // Membuat data form\r\n    let data = new FormData();\r\n    data.append('file', file);\r\n\r\n    const metadata = JSON.stringify({\r\n        name: file.name,\r\n    });\r\n    data.append('pinataMetadata', metadata);\r\n\r\n    const pinataOptions = JSON.stringify({\r\n        cidVersion: 0,\r\n    });\r\n    data.append('pinataOptions', pinataOptions);\r\n\r\n    try {\r\n        const res = await axios.post(url, data, {\r\n            maxBodyLength: 'Infinity',\r\n            headers: {\r\n                'Content-Type': `multipart/form-data; boundary=${data._boundary}`,\r\n                'pinata_api_key': process.env.REACT_APP_PINATA_API_KEY,\r\n                'pinata_secret_api_key': process.env.REACT_APP_PINATA_API_SECRET,\r\n            },\r\n        });\r\n        console.log(\"File uploaded, CID:\", res.data.IpfsHash);\r\n        return {\r\n            success: true,\r\n            cid: res.data.IpfsHash,\r\n        };\r\n    } catch (error) {\r\n        console.error(\"Error uploading file to IPFS:\", error);\r\n        return {\r\n            success: false,\r\n            message: error.message,\r\n        };\r\n    }\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,gBAAgB,GAAG,MAAOC,IAAI,IAAK;EAC5C,MAAMC,GAAG,GAAG,gDAAgD,CAAC,CAAC;;EAE9D;EACA,IAAIC,IAAI,GAAG,IAAIC,QAAQ,CAAC,CAAC;EACzBD,IAAI,CAACE,MAAM,CAAC,MAAM,EAAEJ,IAAI,CAAC;EAEzB,MAAMK,QAAQ,GAAGC,IAAI,CAACC,SAAS,CAAC;IAC5BC,IAAI,EAAER,IAAI,CAACQ;EACf,CAAC,CAAC;EACFN,IAAI,CAACE,MAAM,CAAC,gBAAgB,EAAEC,QAAQ,CAAC;EAEvC,MAAMI,aAAa,GAAGH,IAAI,CAACC,SAAS,CAAC;IACjCG,UAAU,EAAE;EAChB,CAAC,CAAC;EACFR,IAAI,CAACE,MAAM,CAAC,eAAe,EAAEK,aAAa,CAAC;EAE3C,IAAI;IACA,MAAME,GAAG,GAAG,MAAMb,KAAK,CAACc,IAAI,CAACX,GAAG,EAAEC,IAAI,EAAE;MACpCW,aAAa,EAAE,UAAU;MACzBC,OAAO,EAAE;QACL,cAAc,EAAE,iCAAiCZ,IAAI,CAACa,SAAS,EAAE;QACjE,gBAAgB,EAAEC,OAAO,CAACC,GAAG,CAACC,wBAAwB;QACtD,uBAAuB,EAAEF,OAAO,CAACC,GAAG,CAACE;MACzC;IACJ,CAAC,CAAC;IACFC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEV,GAAG,CAACT,IAAI,CAACoB,QAAQ,CAAC;IACrD,OAAO;MACHC,OAAO,EAAE,IAAI;MACbC,GAAG,EAAEb,GAAG,CAACT,IAAI,CAACoB;IAClB,CAAC;EACL,CAAC,CAAC,OAAOG,KAAK,EAAE;IACZL,OAAO,CAACK,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACrD,OAAO;MACHF,OAAO,EAAE,KAAK;MACdG,OAAO,EAAED,KAAK,CAACC;IACnB,CAAC;EACL;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}