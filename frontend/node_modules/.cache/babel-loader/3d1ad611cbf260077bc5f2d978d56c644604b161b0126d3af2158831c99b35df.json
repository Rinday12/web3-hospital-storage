{"ast":null,"code":"// frontend/src/utils/pinata.js\nimport axios from 'axios';\nexport const uploadFileToIPFS = async file => {\n  const url = `https://app.pinata.cloud/`;\n  let data = new FormData();\n  data.append('file', file);\n  const metadata = JSON.stringify({\n    name: file.name\n  });\n  data.append('pinataMetadata', metadata);\n  const pinataOptions = JSON.stringify({\n    cidVersion: 0\n  });\n  data.append('pinataOptions', pinataOptions);\n  console.log(\"Pinata API URL:\", url); // Tambahkan ini\n  console.log(\"Pinata API Key:\", process.env.REACT_APP_PINATA_API_KEY); // Tambahkan ini\n  console.log(\"Pinata Secret API Key (first 5 chars):\", process.env.REACT_APP_PINATA_API_SECRET ? process.env.REACT_APP_PINATA_API_SECRET.substring(0, 5) + '...' : 'Not set'); // Tambahkan ini\n\n  try {\n    const res = await axios.post(url, data, {\n      maxBodyLength: 'Infinity',\n      headers: {\n        'Content-Type': `multipart/form-data; boundary=${data._boundary}`,\n        'pinata_api_key': process.env.REACT_APP_PINATA_API_KEY,\n        'pinata_secret_api_key': process.env.REACT_APP_PINATA_API_SECRET\n      }\n    });\n    // ... sisa kode Anda\n  } catch (error) {\n    console.error(\"Error uploading file to IPFS:\", error.response ? error.response.data : error.message); // Perbarui ini untuk detail error lebih lanjut\n    return {\n      success: false,\n      message: error.response ? JSON.stringify(error.response.data) : error.message\n    };\n  }\n};","map":{"version":3,"names":["axios","uploadFileToIPFS","file","url","data","FormData","append","metadata","JSON","stringify","name","pinataOptions","cidVersion","console","log","process","env","REACT_APP_PINATA_API_KEY","REACT_APP_PINATA_API_SECRET","substring","res","post","maxBodyLength","headers","_boundary","error","response","message","success"],"sources":["C:/Users/Rinday/web3-hospital-storage/frontend/src/utils/pinata.js"],"sourcesContent":["// frontend/src/utils/pinata.js\r\nimport axios from 'axios';\r\n\r\nexport const uploadFileToIPFS = async (file) => {\r\n    const url = `https://app.pinata.cloud/`;\r\n\r\n    let data = new FormData();\r\n    data.append('file', file);\r\n\r\n    const metadata = JSON.stringify({\r\n        name: file.name,\r\n    });\r\n    data.append('pinataMetadata', metadata);\r\n\r\n    const pinataOptions = JSON.stringify({\r\n        cidVersion: 0,\r\n    });\r\n    data.append('pinataOptions', pinataOptions);\r\n\r\n    console.log(\"Pinata API URL:\", url); // Tambahkan ini\r\n    console.log(\"Pinata API Key:\", process.env.REACT_APP_PINATA_API_KEY); // Tambahkan ini\r\n    console.log(\"Pinata Secret API Key (first 5 chars):\", process.env.REACT_APP_PINATA_API_SECRET ? process.env.REACT_APP_PINATA_API_SECRET.substring(0, 5) + '...' : 'Not set'); // Tambahkan ini\r\n\r\n    try {\r\n        const res = await axios.post(url, data, {\r\n            maxBodyLength: 'Infinity',\r\n            headers: {\r\n                'Content-Type': `multipart/form-data; boundary=${data._boundary}`,\r\n                'pinata_api_key': process.env.REACT_APP_PINATA_API_KEY,\r\n                'pinata_secret_api_key': process.env.REACT_APP_PINATA_API_SECRET,\r\n            },\r\n        });\r\n        // ... sisa kode Anda\r\n    } catch (error) {\r\n        console.error(\"Error uploading file to IPFS:\", error.response ? error.response.data : error.message); // Perbarui ini untuk detail error lebih lanjut\r\n        return {\r\n            success: false,\r\n            message: error.response ? JSON.stringify(error.response.data) : error.message,\r\n        };\r\n    }\r\n};"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,gBAAgB,GAAG,MAAOC,IAAI,IAAK;EAC5C,MAAMC,GAAG,GAAG,2BAA2B;EAEvC,IAAIC,IAAI,GAAG,IAAIC,QAAQ,CAAC,CAAC;EACzBD,IAAI,CAACE,MAAM,CAAC,MAAM,EAAEJ,IAAI,CAAC;EAEzB,MAAMK,QAAQ,GAAGC,IAAI,CAACC,SAAS,CAAC;IAC5BC,IAAI,EAAER,IAAI,CAACQ;EACf,CAAC,CAAC;EACFN,IAAI,CAACE,MAAM,CAAC,gBAAgB,EAAEC,QAAQ,CAAC;EAEvC,MAAMI,aAAa,GAAGH,IAAI,CAACC,SAAS,CAAC;IACjCG,UAAU,EAAE;EAChB,CAAC,CAAC;EACFR,IAAI,CAACE,MAAM,CAAC,eAAe,EAAEK,aAAa,CAAC;EAE3CE,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEX,GAAG,CAAC,CAAC,CAAC;EACrCU,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEC,OAAO,CAACC,GAAG,CAACC,wBAAwB,CAAC,CAAC,CAAC;EACtEJ,OAAO,CAACC,GAAG,CAAC,wCAAwC,EAAEC,OAAO,CAACC,GAAG,CAACE,2BAA2B,GAAGH,OAAO,CAACC,GAAG,CAACE,2BAA2B,CAACC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC;;EAE9K,IAAI;IACA,MAAMC,GAAG,GAAG,MAAMpB,KAAK,CAACqB,IAAI,CAAClB,GAAG,EAAEC,IAAI,EAAE;MACpCkB,aAAa,EAAE,UAAU;MACzBC,OAAO,EAAE;QACL,cAAc,EAAE,iCAAiCnB,IAAI,CAACoB,SAAS,EAAE;QACjE,gBAAgB,EAAET,OAAO,CAACC,GAAG,CAACC,wBAAwB;QACtD,uBAAuB,EAAEF,OAAO,CAACC,GAAG,CAACE;MACzC;IACJ,CAAC,CAAC;IACF;EACJ,CAAC,CAAC,OAAOO,KAAK,EAAE;IACZZ,OAAO,CAACY,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAACC,QAAQ,GAAGD,KAAK,CAACC,QAAQ,CAACtB,IAAI,GAAGqB,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC;IACtG,OAAO;MACHC,OAAO,EAAE,KAAK;MACdD,OAAO,EAAEF,KAAK,CAACC,QAAQ,GAAGlB,IAAI,CAACC,SAAS,CAACgB,KAAK,CAACC,QAAQ,CAACtB,IAAI,CAAC,GAAGqB,KAAK,CAACE;IAC1E,CAAC;EACL;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}